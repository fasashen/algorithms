# Python Interview Questions

## Вопросы по Python


#### Типы данных

- Перечислите типы данных в python

- Мутабельные, немутабельные типы

- Как реализованы словари/сеты в питоне, как хранятся ключи, какие типы данных можно использовать в качестве ключей и почему

- Можно ли использовать тюпл в качестве ключа дикта? А если внутри мутабельные данные?

- Знать методы списков `pop()`, `append()`, методы словарей `get()`, `update()`


#### Переменные и ссылки

- Что такое переменная в python
- Как переменные реализованы: ссылки, `id()`, `is`
- Переменные в функцию передаются по ссылке или по значению?

```python
a = 'hello'
b = 'hello'
c = 'he' + 'llo'
# Что будет:
a is b  
a is c
```

```python
def func(x=[]):
  x.append(1)
  return x
print(func())
print(func())
print(func())  # Что напечатает
```

```python
lst = [1, 2, 3]
for x in lst:
  del x
print(lst)  # Что напечатает?
```

```python
lst.sort(reverse=True)
lst = list(reversed(sorted(lst)))  # в чем разница тут?
```


#### Генераторы, итераторы, итерабл

- Какой-то вопрос про list comprehensions `[a for a in range(10)]` и плавный подвод к генераторам
    ```
    lst = [1, 2, 3]
    y = [x for x in lst]
    z = (x for x in lst)  # В чем разница, что возвращают
    z = (x for x in range(1_000_000_000_000)) # Сколько памяти занимает 
    ```

- Что такое генератор?
- Какой самый короткий способ написать генератор?
- Что такое генераторы, итераторы, итерируемые объекты (iterable)
- Можно ли в генераторе написать несколько `yield`, можно ли `return`?
- Что за функция `enumerate`

#### Многопроцессорность, многопоточность, корутины async/await

- В чем разница, зачем нужны, когда что использовать
- Какие особенности у питона при работе с многопоточностью?
- Что такое GIL?

#### Контекстные менеджеры

- Что такое контекстный менеджер
- Как работает оператор `with`
- Как написать свой класс с поддержкой `with`


#### Декораторы

- Что такое декоратор?
- Написать декторатор, замеряющий скорость работы функции
- Дописать, чтобы декоратор принимал аргументы


#### Классы, наследование

- Про наследование иногда достаточно сказать три буквы `MRO` и упомянуть метод `mro()`
- Что такое `@property`, `@classmethod`, `@staticmethod` декораторы
- Для чего нужен `__init__` метод
- Как создается экземпляр класса? Как модифицировать процесс создания?
- Что такое метаклассы?


```python
class A:
    def __init__(self):
        print("A")

class B:
    def __init__(self):
        print("B")

class C(A, B):
    def __init__(self):
        print("C")
        super(C, self).__init__()
c = C()  # Что напечатает?
```


#### SQL и проектирование баз

- Какие типы джоинов бывают
- Что такое индексы
- Нормализация, перечислить нормальные формы, зачем нужно


#### Общие вопросы

- Расшифровать SOLID

- Перечислить дизайн паттерны

- Принципы ООП перечислисть

- Перечислить HTTP методы, популярные HTTP статус-коды

- В чем отличие `PATCH` от `PUT` 

- Что такое REST

- Что такое идемпотентность, какие методы идемпотентны, какие нет? Как с этим работать?

- Авторизация, аутентификация - в чем разница

- Авторизация по токену и JWT - в чем разница

- Перечислить паттерны проектирования

- Вопрос в конторах, связанных с циферками:
Как избежать проблем, как работать с числами с плавающей точкой в python и бороться с этим (использовать Decimal или переводить в int, например храня суммы в копейках)

```python
# Что напечатает?
print(1.1 + 2.2 > 3.3)
```

- Что значит __name__ == "__main__" и для чего нужно
- Как работает `try except else finally`
- Как получить список методов объекта

```python
# Что произойдет
print("{1}{2}{3}".format(1, 2, 3))
```

## Вопросы по Django

- Какой путь проходит запрос в Django?
- Что такое мидлвары, как они устроены, для чего используются?
- Миддлвар обрабатывает запрос только до view или после тоже?

```python
books = Book.objects.all()
author_1_books = books.filter(author_id=1)
author_2_books = books.filter(author_id=2)
# Сколько запросов в базу было сделано?
```


```python
class Author(models.Model):
    name = models.CharField(max_length=255)

    def __str__(self):
        return self.name

class Book(models.Model):
    name = models.CharField(max_length=255)
    author = models.ForeignKey(Authors)

    def __str__(self):
        return f"{self.author} - {self.name}"

# В чем здесь проблема/особенность в методе __str__?
```

```python 
for b in Book.objects.all():
    print(b.author_id)
# Сколько запросов в базу было сделано?

for b in Book.objects.all():
    print(b.author.id)
# Сколько запросов в базу было сделано?
# Как оптимизировать такой запрос?

for author in Author.objects.all().prefetch_related('book_set'):
    print(author.name)
    for book in author.book_set.all():
        print(book.name)
# Сколько запросов в базу было сделано?
```

- Что такое `select_related()`, какой запрос генерирует?
- Что такое `prefetch_related()`, какой запрос генерирует и в чем отличие от `select_related()`?
- Как Many-to-Many связь реализована в Django
- Что такое ContentType
